{"version":3,"sources":["worker.js","investments.js","first-round/Form.js","results/Ledger.js","results/Addition.js","givini.js","results/Givini.js","results/index.js","Failure.js","first-round/index.js","Disclaimer.js","Loading.js","App.js","reportWebVitals.js","index.js"],"names":["addMethods","methods","module","exports","w","Worker","name","investments","price","profits","social","givini","chapter3Infrastructure","chapter1Steel","chapter1Bank","giviniStart","newGiviniScore","giviniExtra","reduce","acc","investment","previousInvestments","guildScore","map","filter","includes","length","possiblePrevious","initialValues","previous","remainingPron","baseProfit","strategy","startingSocial","merchantSolution","jhenno","magicalItems","mandatory","toSelectOptions","list","sort","value","label","requiredRule","required","message","CustomForm","onFinish","loading","useState","setPrevious","Form","useForm","form","setMerchantSolution","useEffect","getFieldValue","setFieldsValue","title","onValuesChange","_","allValues","className","type","Item","tooltip","rules","options","mode","valuePropName","Group","disabled","allInvestments","htmlType","nF","number","toLocaleString","numberColWidth","NumberCell","children","formattedNumber","format","Math","abs","Investments","dataSource","data","key","columns","dataIndex","sorter","a","b","localeCompare","render","width","pagination","Others","Ledger","initialStandings","nonInvestmentChanges","investmentChanges","sum","category","money","bordered","expandable","expandedRowRender","rowExpandable","defaultExpandAllRows","summary","Summary","Row","Cell","colSpan","Addition","startingValue","dataSources","index","scope","values","explanation","join","toString","val","preliminaryChanges","Boolean","baseValue","chapter3Investments","roundOneChanges","roundOneValue","Givini","roundOneInvestments","decisions","Result","Failure","status","socialRequirement","setResult","runInWoker","setError","undefined","misc","giviniBaseValue","giviniRoundOneValue","nonInvestmentChangesList","params","otherRequirements","atLeastOne","result","FirstRound","error","Title","Typography","Disclaimer","href","description","showIcon","Loading","combinationsCount","progress","investmentsCount","preprogress","visible","centered","closable","footer","percent","round","App","workerInstance","setWorkerInstance","setLoading","setCombinationsCount","setProgress","setInvestmentsCount","setPreprogress","worker","terminate","prepare","i","preprocess","batchSize","ceil","end","min","process","clean","buildRunInWorker","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.12d7a503.chunk.js","sourcesContent":["\n\t\t\t\tvar addMethods = require(\"../node_modules/workerize-loader/dist/rpc-wrapper.js\")\n\t\t\t\tvar methods = [\"prepare\",\"preprocess\",\"process\",\"clean\"]\n\t\t\t\tmodule.exports = function() {\n\t\t\t\t\tvar w = new Worker(__webpack_public_path__ + \"a4e98451d708f4c08de9.worker.js\", { name: \"[hash].worker.js\" })\n\t\t\t\t\taddMethods(w, methods)\n\t\t\t\t\t\n\t\t\t\t\treturn w\n\t\t\t\t}\n\t\t\t","// Ref: https://thelastsovereign.miraheze.org/wiki/Investments\n\nconst investments = [\n  {\n    name: 'Bank of Stineford',\n    price: 400000,\n    profits: 240000,\n  },\n  {\n    name: 'Stineford Weapons Store',\n    price: 200000,\n    profits: 75000,\n  },\n  {\n    name: 'Trading Pillar Rights',\n    price: 300000,\n    profits: 100000,\n  },\n  {\n    name: 'Stineford Succubus Tower',\n    price: 800000,\n    social: 2,\n  },\n  {\n    name: 'Yhilini Airship Fleet',\n    price: 1000000,\n    profits: 100000,\n  },\n  {\n    name: \"Min's Trade Route\",\n    price: 400000,\n    profits: 185000,\n    givini: 1,\n  },\n  {\n    name: 'Yhilini Succubi Trade',\n    price: ({ chapter3Infrastructure }) =>\n      chapter3Infrastructure ? 400000 : 550000,\n    profits: 200000,\n  },\n  {\n    name: 'Yhilini Brothel Reform',\n    price: 25000,\n    profits: 35000,\n  },\n  {\n    name: 'Premium Steel Owner',\n    price: ({ chapter1Steel }) => (!!chapter1Steel ? 75000 : 100000),\n    profits: 10000,\n  },\n  {\n    name: 'Yhilini Bank Core Lender',\n    price: ({ chapter1Bank }) => (!!chapter1Bank ? 450000 : 500000),\n    profits: 150000,\n  },\n  {\n    name: 'Mercenary Offices',\n    price: ({ chapter3Infrastructure }) =>\n      chapter3Infrastructure ? 150000 : 250000,\n    profits: 15000,\n    social: 2,\n  },\n  {\n    name: 'Theltiar Rentals',\n    price: 425000,\n    profits: 95000,\n    social: 1,\n  },\n  {\n    name: 'Theltiar Flowhouse',\n    price: 250000,\n    profits: 80000,\n  },\n  {\n    name: 'Denmiel Mushrooms',\n    price: 105000,\n    profits: 40000,\n  },\n  {\n    name: 'Denmiel Archives',\n    price: 250000,\n    profits: 20000,\n    social: 1,\n  },\n  {\n    name: 'Eustrin Guild',\n    price: 600000,\n    profits: 250000,\n  },\n  {\n    name: 'Succubus Armorer',\n    price: 100000,\n    profits: 10000,\n  },\n  {\n    name: 'Gasm Falls Trade',\n    price: 275000,\n    profits: 110000,\n  },\n  {\n    name: 'Givini Tunnels',\n    price: 1500000,\n    profits: 300000,\n    givini: 3,\n  },\n  {\n    name: 'Lustlord Temples',\n    price: 50000 + 750000,\n    profits: 50000,\n  },\n  {\n    name: 'Succubus Band Tour',\n    price: 100000,\n    profits: 2000,\n    givini: 2,\n    social: 1,\n  },\n  {\n    name: 'Gasm Falls Water Cleanup',\n    price: 250000,\n    social: 1,\n  },\n  {\n    name: 'Orc Tunnels',\n    price: 200000,\n    social: 1,\n  },\n  {\n    name: 'Givini Smithing',\n    price: 200000,\n    profits: 10000,\n    givini: 2,\n  },\n  {\n    name: 'Givini Orc Merchant',\n    price: ({ giviniStart: newGiviniScore = 0 }) => {\n      if (newGiviniScore < 20) {\n        return 100000;\n      }\n      if (newGiviniScore < 25) {\n        return 200000;\n      }\n      if (newGiviniScore < 35) {\n        return 300000;\n      }\n      if (newGiviniScore < 45) {\n        return 400000;\n      }\n      return 500000;\n    },\n    profits: ({ giviniStart = 0, giviniExtra = 0, investments }) => {\n      const newGiviniScore =\n        giviniStart +\n        giviniExtra +\n        investments.reduce((acc, investment) => {\n          return acc + (investment?.givini || 0);\n        }, 0);\n      if (newGiviniScore < 20) {\n        return 25000;\n      }\n      if (newGiviniScore < 30) {\n        return 50000;\n      }\n      if (newGiviniScore < 40) {\n        return 100000;\n      }\n      if (newGiviniScore < 50) {\n        return 150000;\n      }\n      return 200000;\n    },\n    givini: 5,\n  },\n  {\n    name: 'Givini Teahouse Chain',\n    price: 275000,\n    profits: 30000,\n    givini: 2,\n    social: 1,\n  },\n  {\n    name: 'Bank of Givini',\n    price: 350000,\n    profits: 300000,\n    givini: 5,\n  },\n  {\n    name: 'Givini Mage Guild',\n    price: 1000000,\n    profits: 40000,\n    givini: 5,\n  },\n  {\n    name: 'War Monument',\n    price: 1000000,\n    givini: 10,\n    social: 3,\n  },\n  {\n    name: \"Tarran'Kan Housing + Tarran'Kan Trade Upgrade\",\n    price: 1000000 + 100000,\n    profits: 50000 + 50000,\n    social: 1,\n  },\n  {\n    name: 'Hall of Mental Strength',\n    price: 200000,\n    profits: 25000,\n    social: 1,\n  },\n  {\n    name: 'Booze Shack',\n    price: 150000,\n    profits: 50000,\n    social: 1,\n  },\n  {\n    name: \"Tradesmasher's Guild\",\n    price: 350000,\n    profits: ({ investments, previousInvestments }) => {\n      const guildScore =\n        1 +\n        [...previousInvestments, ...investments.map(({ name }) => name)].filter(\n          (name) => {\n            return [\n              \"Cee'Kan Shipping\",\n              'Lonely Sailor Services',\n              'Givini Orc Merchant',\n              'Orcish Democracy',\n              'Orc Pools Upgrade',\n            ].includes(name);\n          }\n        ).length;\n\n      if (guildScore < 2) {\n        return 50000;\n      }\n      if (guildScore === 2) {\n        return 75000;\n      }\n      if (guildScore === 3) {\n        return 125000;\n      }\n      if (guildScore === 4) {\n        return 150000;\n      }\n      if (guildScore === 5) {\n        return 175000;\n      }\n      return 200000;\n    },\n  },\n  {\n    name: 'Lonely Sailor Services',\n    price: 250000,\n    profits: 100000,\n    social: 1,\n  },\n  {\n    name: \"Cee'Kan Shipping\",\n    price: 700000,\n    profits: 200000,\n  },\n  {\n    name: 'Orcish Democracy',\n    price: 1000000,\n    social: 5,\n  },\n  {\n    name: 'Imp Offices',\n    price: 100000,\n    social: 1,\n  },\n  {\n    name: 'Orc Pools Upgrade',\n    price: 500000,\n    social: 2,\n  },\n  {\n    name: 'Givini Banners + Givini Dragon Statue',\n    price: 1000 + 2500,\n    givini: 1,\n  },\n];\n\nexport default investments;\n","import { Form, Select, InputNumber, Button, Card, Checkbox, Radio } from 'antd';\nimport { useEffect, useState } from 'react';\nimport allInvestments from '../investments';\n\nconst possiblePrevious = [\n  \"Min's Trade Route\",\n  'Yhilini Succubi Trade',\n  'Yhilini Bank Core Lender',\n  'Mercenary Offices',\n  'Theltiar Rentals',\n  'Theltiar Flowhouse',\n  'Denmiel Mushrooms',\n  'Denmiel Archives',\n  'Eustrin Guild',\n  'Gasm Falls Trade',\n  'Premium Steel Owner',\n];\n\nconst initialValues = {\n  previous: [\n    'Premium Steel Owner',\n    \"Min's Trade Route\",\n    'Yhilini Succubi Trade',\n    'Eustrin Guild',\n  ],\n  remainingPron: 5000,\n  baseProfit: 2000000,\n  chapter1Bank: true,\n  chapter1Steel: false,\n  strategy: 'social',\n  startingSocial: 34,\n  chapter3Infrastructure: true,\n  merchantSolution: 'wait',\n  jhenno: 'religion',\n  magicalItems: 'givini',\n  mandatory: [],\n};\n\nconst toSelectOptions = (list) => {\n  return [...list].sort().map((value) => {\n    return {\n      label: value,\n      value: value,\n    };\n  });\n};\n\nconst requiredRule = { required: true, message: `Please provide a value.` };\n\nconst CustomForm = ({ onFinish, loading }) => {\n  const [previous, setPrevious] = useState(initialValues.previous);\n\n  const [form] = Form.useForm();\n  const [merchantSolution, setMerchantSolution] = useState(\n    initialValues.merchantSolution\n  );\n  useEffect(() => {\n    if (\n      merchantSolution === 'neutral' &&\n      form.getFieldValue('strategy') === 'money'\n    ) {\n      form.setFieldsValue({ strategy: 'social' });\n    }\n  }, [form, merchantSolution]);\n  useEffect(() => {\n    form.setFieldsValue({\n      mandatory: form\n        .getFieldValue('mandatory')\n        .filter((name) => !previous.includes(name)),\n    });\n  }, [form, previous]);\n\n  return (\n    <Card title={`Round one`}>\n      <Form\n        initialValues={initialValues}\n        onFinish={onFinish}\n        onValuesChange={(_, allValues) => {\n          setPrevious(allValues.previous);\n          setMerchantSolution(allValues.merchantSolution);\n        }}\n        className=\"first-round-form\"\n        form={form}\n      >\n        <Card title={`The past`} type=\"inner\">\n          <div className=\"numbers\">\n            <Form.Item\n              label={`ProN remaining at the end of chapter 3`}\n              name=\"remainingPron\"\n              tooltip={`In the Calculator, go to \"War Investment Phase\" and copy the value next to \"ProN available\".`}\n              rules={[requiredRule]}\n            >\n              <InputNumber />\n            </Form.Item>\n            <Form.Item\n              label={`Total profit at the start of chapter 4`}\n              name=\"baseProfit\"\n              tooltip={`In the Calculator, go to \"First Tower Run and Investment and copy the value next to \"Total ProN Return\".`}\n              rules={[requiredRule]}\n            >\n              <InputNumber />\n            </Form.Item>\n            <Form.Item\n              label={`Your social standing at the start of chapter 4`}\n              name=\"startingSocial\"\n              tooltip={`In the Calculator, go to \"War Investment Phase\" and copy the value next to \"Social Score\".`}\n              rules={[requiredRule]}\n            >\n              <InputNumber />\n            </Form.Item>\n          </div>\n\n          <Form.Item\n            label={`Investments already bought during chapters 2/3`}\n            name=\"previous\"\n          >\n            <Select\n              options={toSelectOptions(possiblePrevious)}\n              mode=\"multiple\"\n            />\n          </Form.Item>\n\n          <div className=\"checkboxes\">\n            {!previous.includes('Yhilini Bank Core Lender') && (\n              <Form.Item name=\"chapter1Bank\" valuePropName=\"checked\">\n                <Checkbox>{`You invested 25,000 ProN in the Yhilin Bank during chapter 1.`}</Checkbox>\n              </Form.Item>\n            )}\n            {!previous.includes('Premium Steel Owner') && (\n              <Form.Item name=\"chapter1Steel\" valuePropName=\"checked\">\n                <Checkbox>{`You invested 20,000 ProN in Premium Steel during chapter 1.`}</Checkbox>\n              </Form.Item>\n            )}\n            {!(\n              previous.includes('Yhilini Succubi Trade') &&\n              previous.includes('Mercenary Offices')\n            ) && (\n              <Form.Item name=\"chapter3Infrastructure\" valuePropName=\"checked\">\n                <Checkbox>{`You funded Yhilin Infrastructure during chapter 3.`}</Checkbox>\n              </Form.Item>\n            )}\n          </div>\n        </Card>\n\n        <Card title={`Strategy`} type=\"inner\">\n          <Form.Item\n            name=\"strategy\"\n            label={`Main strategy`}\n            rules={[requiredRule]}\n          >\n            <Radio.Group\n              options={[\n                {\n                  label: `Focus on profits; do only the bare minimum for the Ardan succession crisis (New Givini ≥ 25).`,\n                  value: 'money',\n                  disabled: merchantSolution === 'neutral',\n                },\n                {\n                  label: `Mix profits and social; reach most thresholds for the Ardan succession crisis (New Givini ≥ 25, Social ≥ 40).`,\n                  value: 'social',\n                },\n                {\n                  label: `Go all in on the Ardan succession crisis (New Givini ≥ 25, Social ≥ 40, dedicated investments).`,\n                  value: 'succession',\n                },\n              ]}\n            />\n          </Form.Item>\n          <div className=\"selects\">\n            <Form.Item label={`Jhenno's cooperation`} name=\"jhenno\">\n              <Select\n                options={[\n                  {\n                    value: 'politics',\n                    label: `Politics`,\n                  },\n                  {\n                    value: 'religion',\n                    label: `Religion`,\n                  },\n                ]}\n              />\n            </Form.Item>\n            <Form.Item label={`Rose's house magical items`} name=\"magicalItems\">\n              <Select\n                options={[\n                  {\n                    value: 'givini',\n                    label: `Givini`,\n                  },\n                  {\n                    value: 'takkan',\n                    label: `Tak'Kan`,\n                  },\n                ]}\n              />\n            </Form.Item>\n            <Form.Item label={`Merchant dispute`} name=\"merchantSolution\">\n              <Select\n                options={[\n                  {\n                    value: 'neutral',\n                    label: `Neutral compromise (force Social ≥ 40)`,\n                  },\n                  {\n                    value: 'givini',\n                    label: `Favor New Givini`,\n                  },\n                  {\n                    value: 'wait',\n                    label: `Wait`,\n                  },\n                ]}\n              />\n            </Form.Item>\n          </div>\n          <Form.Item\n            label={`Investments you explictly want to buy, for any reason`}\n            name=\"mandatory\"\n          >\n            <Select\n              options={toSelectOptions(\n                allInvestments\n                  .map(({ name }) => name)\n                  .filter((name) => !previous.includes(name))\n              )}\n              mode=\"multiple\"\n            />\n          </Form.Item>\n        </Card>\n\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\n            {`Submit`}\n          </Button>\n        </Form.Item>\n      </Form>\n    </Card>\n  );\n};\n\nexport default CustomForm;\n","import { Table } from 'antd';\n\nconst nF = (number) => number.toLocaleString('en-US');\n\nconst numberColWidth = 120;\n\nconst NumberCell = ({ children, format }) => {\n  const number = children;\n  const formattedNumber = !!format ? nF(Math.abs(number)) : Math.abs(number);\n\n  return `${number < 0 ? `-` : `+`}${formattedNumber}`;\n};\n\nconst Investments = ({ investments }) => {\n  const dataSource = investments.map(({ name, ...data }) => {\n    return {\n      key: name,\n      name,\n      ...data,\n    };\n  });\n\n  const columns = [\n    {\n      title: `Name`,\n      dataIndex: 'name',\n      sorter: (a, b) => a.name.localeCompare(b.name),\n    },\n    {\n      title: `Price`,\n      dataIndex: 'price',\n      render: (price) => nF(price),\n      sorter: (a, b) => a.price - b.price,\n      width: numberColWidth,\n    },\n    {\n      title: `Profits`,\n      dataIndex: 'profits',\n      render: (profits) => nF(profits),\n      sorter: (a, b) => a.profits - b.profits,\n      width: numberColWidth,\n    },\n    {\n      title: `Social`,\n      dataIndex: 'social',\n      render: (social = 0) => <NumberCell>{social}</NumberCell>,\n      width: numberColWidth,\n    },\n  ];\n\n  return <Table dataSource={dataSource} columns={columns} pagination={false} />;\n};\n\nconst Others = ({ list = [] }) => {\n  const dataSource = list.map(({ name, ...data }) => {\n    return {\n      key: name,\n      name,\n      ...data,\n    };\n  });\n\n  const render = (value = 0) => <NumberCell format={true}>{value}</NumberCell>;\n\n  const columns = [\n    {\n      title: `Name`,\n      dataIndex: 'name',\n    },\n    {\n      title: `Price`,\n      dataIndex: 'price',\n      render,\n      width: numberColWidth,\n    },\n    {\n      title: `Profits`,\n      dataIndex: 'profits',\n      render,\n      width: numberColWidth,\n    },\n    {\n      title: `Social`,\n      dataIndex: 'social',\n      render,\n      width: numberColWidth,\n    },\n  ];\n\n  return <Table dataSource={dataSource} columns={columns} pagination={false} />;\n};\n\nconst Ledger = ({\n  initialStandings,\n  nonInvestmentChanges,\n  investmentChanges,\n}) => {\n  const render = (value, { key }) => {\n    if (['base', 'total'].includes(key)) {\n      return nF(value);\n    }\n    return <NumberCell format={true}>{value}</NumberCell>;\n  };\n\n  const columns = [\n    {\n      dataIndex: 'category',\n    },\n    {\n      title: `ProN`,\n      dataIndex: 'money',\n      render,\n      width: numberColWidth,\n    },\n    {\n      title: `Profits`,\n      dataIndex: 'profits',\n      render,\n      width: numberColWidth,\n    },\n    {\n      title: `Social`,\n      dataIndex: 'social',\n      render,\n      width: numberColWidth,\n    },\n  ];\n\n  const sum = (key) =>\n    initialStandings[key] + nonInvestmentChanges[key] + investmentChanges[key];\n\n  const dataSource = [\n    {\n      ...initialStandings,\n      key: 'base',\n      category: `Previously`,\n    },\n    {\n      ...investmentChanges,\n      key: 'investments',\n      category: `Changes from investments`,\n      money: -investmentChanges.price,\n    },\n    {\n      ...nonInvestmentChanges,\n      key: 'other',\n      category: `Other changes`,\n    },\n  ];\n\n  return (\n    <Table\n      dataSource={dataSource}\n      columns={columns}\n      pagination={false}\n      bordered={true}\n      expandable={{\n        expandedRowRender: ({ key }) => {\n          if (key === 'investments') {\n            return <Investments investments={investmentChanges.investments} />;\n          }\n          if (key === 'other') {\n            return <Others list={nonInvestmentChanges.list} />;\n          }\n          return null;\n        },\n        rowExpandable: ({ key }) => ['investments', 'other'].includes(key),\n        defaultExpandAllRows: true,\n      }}\n      summary={() => {\n        return (\n          <Table.Summary.Row>\n            <Table.Summary.Cell colSpan={2}>{`Result`}</Table.Summary.Cell>\n            <Table.Summary.Cell>\n              {nF(\n                initialStandings.money +\n                  nonInvestmentChanges.money -\n                  investmentChanges.price\n              )}\n            </Table.Summary.Cell>\n            <Table.Summary.Cell>{nF(sum('profits'))}</Table.Summary.Cell>\n            <Table.Summary.Cell>{sum('social')}</Table.Summary.Cell>\n          </Table.Summary.Row>\n        );\n      }}\n    />\n  );\n};\n\nexport default Ledger;\n","const Addition = ({ startingValue = 0, dataSources }) => {\n  return (\n    <table className=\"addition\">\n      <tbody>\n        <tr>\n          <td>{`Initial value`}</td>\n          <td>{startingValue}</td>\n          <td></td>\n        </tr>\n      </tbody>\n      {dataSources.map(({ title, dataSource }, index) => {\n        return (\n          <tbody key={index.toString()}>\n            <tr>\n              <th colSpan=\"3\" scope=\"col\">\n                {title}\n              </th>\n            </tr>\n            {dataSource.map(({ label, values, explanation }, index) => {\n              return (\n                <tr key={index.toString()}>\n                  <td>{label}</td>\n                  <td>{values.map((value) => `+${value}`).join(' ')}</td>\n                  <td>{explanation}</td>\n                </tr>\n              );\n            })}\n          </tbody>\n        );\n      })}\n      <tfoot>\n        <tr>\n          <th scope=\"row\">{`Total`}</th>\n          <td>\n            {startingValue +\n              dataSources.reduce(\n                (acc, { dataSource }) =>\n                  acc +\n                  dataSource.reduce(\n                    (acc, { values }) =>\n                      acc + values.reduce((acc, val) => acc + val),\n                    0\n                  ),\n                0\n              )}\n          </td>\n        </tr>\n      </tfoot>\n    </table>\n  );\n};\n\nexport default Addition;\n","const sum = (list) =>\n  list.reduce(\n    (acc, { values }) => acc + values.reduce((acc, value) => acc + value, 0),\n    0\n  );\n\nexport const startingValue = -5;\n\nexport const preliminaryChanges = ({ investments }) => {\n  return [\n    { label: `Petitions`, values: [5, 5, 2, 2, 2] },\n    {\n      label: `New Givini Trade`,\n      values: [5, 1],\n      explanation: `+5 when bought, +1 at round's start`,\n    },\n    investments.includes(\"Min's Trade Route\") && {\n      label: `Min's Trade Route`,\n      values: [1],\n    },\n  ].filter(Boolean);\n};\n\nexport const baseValue = ({ chapter3Investments }) =>\n  startingValue + sum(preliminaryChanges({ investments: chapter3Investments }));\n\nexport const roundOneChanges = ({ merchantSolution, magicalItems }) => {\n  return [\n    magicalItems === 'givini' && {\n      label: `House Rose's magical items: Givini`,\n      values: [2],\n    },\n    merchantSolution === 'neutral' && {\n      label: `Merchant dispute: Neutral compromise`,\n      values: [1],\n    },\n    merchantSolution === 'givini' && {\n      label: `Merchant dispute: Favor New Givini`,\n      values: [2],\n    },\n    { label: `Givino Vinai equipment shop girl`, values: [1] },\n    { label: `Givini king`, values: [1] },\n    {\n      label: `New Givini Trade`,\n      values: [1],\n      explanation: `+1 at the end of the round (before profits from the Givini Orc Merchant are computed)`,\n    },\n  ].filter(Boolean);\n};\n\nexport const roundOneValue = (...params) => sum(roundOneChanges(...params));\n","import Addition from './Addition';\nimport { startingValue, preliminaryChanges, roundOneChanges } from '../givini';\n\nconst Givini = ({\n  chapter3Investments = [],\n  roundOneInvestments = [],\n  decisions = {},\n}) => {\n  return (\n    <Addition\n      startingValue={startingValue}\n      dataSources={[\n        {\n          title: `Chapter start`,\n          dataSource: preliminaryChanges({ investments: chapter3Investments }),\n        },\n        {\n          title: `Investments`,\n          dataSource: roundOneInvestments\n            .filter(({ givini = 0 }) => givini !== 0)\n            .map(({ name, givini }) => {\n              return { label: name, values: [givini] };\n            })\n            .sort(({ label: a }, { label: b }) => a.localeCompare(b)),\n        },\n        {\n          title: `Other changes`,\n          dataSource: roundOneChanges(decisions),\n        },\n      ]}\n    />\n  );\n};\n\nexport default Givini;\n","import Ledger from './Ledger';\nimport { Card } from 'antd';\nimport Givini from './Givini';\n\nconst Result = ({\n  initialStandings,\n  nonInvestmentChanges,\n  investmentChanges,\n  decisions,\n}) => {\n  return (\n    <Card title={`Changes`} className=\"results\">\n      <Card title={`Ledger`} type=\"inner\" className=\"ledger\">\n        <Ledger\n          initialStandings={initialStandings}\n          nonInvestmentChanges={nonInvestmentChanges}\n          investmentChanges={investmentChanges}\n        />\n      </Card>\n      <Card title={`Countries`} type=\"inner\">\n        <Card title={`New Givini`} type=\"inner\">\n          <Givini\n            chapter3Investments={initialStandings.previousInvestments}\n            roundOneInvestments={investmentChanges.investments}\n            decisions={decisions}\n          />\n        </Card>\n      </Card>\n    </Card>\n  );\n};\n\nexport default Result;\n","import { Result, Card } from 'antd';\n\nconst Failure = ({ message }) => {\n  return (\n    <Card>\n      <Result status=\"warning\" title={message} />\n    </Card>\n  );\n};\n\nexport default Failure;\n","import { useState } from 'react';\nimport Form from './Form';\nimport Result from '../results';\nimport Failure from '../Failure';\nimport {\n  baseValue as giviniBaseValue,\n  roundOneValue as giviniRoundOneValue,\n} from '../givini';\n\nconst socialRequirement = ({\n  strategy,\n  startingSocial,\n  jhenno,\n  merchantSolution,\n}) => {\n  if (strategy === 'money') {\n    return 0;\n  }\n  if (jhenno === 'politics' && merchantSolution !== 'neutral') {\n    return 39 - startingSocial;\n  }\n  return 40 - startingSocial;\n};\n\nconst giviniRequirement = ({ giviniStart, giviniExtra }) => {\n  const absoluteRequirement = 25;\n  const offset = 3; // Points earned after the requirement matters\n\n  return absoluteRequirement - giviniStart - giviniExtra + offset;\n};\n\nconst onFinish = async ({ values, setResult, runInWoker, setError }) => {\n  setError(undefined);\n\n  const {\n    previous = [],\n    remainingPron,\n    baseProfit,\n    strategy,\n    startingSocial,\n    merchantSolution,\n    jhenno,\n    magicalItems,\n    mandatory,\n    ...misc\n  } = values;\n\n  const decisions = { strategy, merchantSolution, magicalItems };\n\n  const giviniStart = giviniBaseValue({ chapter3Investments: previous });\n  const giviniExtra = giviniRoundOneValue(decisions);\n\n  const initialStandings = {\n    givini: giviniStart,\n    social: startingSocial,\n    money: remainingPron + baseProfit,\n    profits: baseProfit,\n    previousInvestments: previous,\n  };\n\n  const nonInvestmentChangesList = [\n    jhenno === 'politics' && {\n      name: `Jhenno's political cooperation`,\n      social: 1,\n    },\n    {\n      name: `Succession crisis' reward (best result)`,\n      social: 3,\n    },\n    {\n      name: `The Three Trades become less profitable`,\n      profits: -300000,\n    },\n  ].filter(Boolean);\n\n  const nonInvestmentChanges = {\n    givini: giviniExtra,\n    money: 0,\n    profits: nonInvestmentChangesList.reduce(\n      (acc, { profits = 0 }) => acc + profits,\n      0\n    ),\n    social: nonInvestmentChangesList.reduce(\n      (acc, { social = 0 }) => acc + social,\n      0\n    ),\n    list: nonInvestmentChangesList,\n  };\n\n  const params = {\n    previousInvestments: previous,\n    money: remainingPron + baseProfit,\n    otherRequirements: {\n      social: socialRequirement({\n        startingSocial,\n        strategy,\n        jhenno,\n        merchantSolution,\n      }),\n      givini: giviniRequirement({ giviniStart, giviniExtra }),\n      mandatory,\n      atLeastOne:\n        strategy === 'succession'\n          ? ['War Monument', 'Givini Mage Guild']\n          : undefined,\n    },\n    giviniStart,\n    giviniExtra,\n    ...misc,\n  };\n\n  const result = await runInWoker(params);\n\n  if (!result) {\n    setResult(undefined);\n    setError(\n      `Couldn't find a working combination of investments for that strategy with these starting values, sorry.`\n    );\n    return;\n  }\n\n  setResult({\n    initialStandings,\n    nonInvestmentChanges,\n    investmentChanges: result,\n    decisions,\n  });\n};\n\nconst FirstRound = ({ runInWoker, loading }) => {\n  const [result, setResult] = useState();\n  const [error, setError] = useState();\n\n  return (\n    <>\n      <Form\n        onFinish={(values) => {\n          onFinish({ values, setResult, runInWoker, setError });\n        }}\n        loading={loading}\n      />\n      {error && <Failure message={error} />}\n      {result && <Result {...result} />}\n    </>\n  );\n};\n\nexport default FirstRound;\n","import { Alert, Typography } from 'antd';\n\nconst { Title } = Typography;\n\nconst Disclaimer = () => {\n  return (\n    <div className=\"disclaimer\">\n      <div className=\"preamble\">\n        <Title>{`Investment advisor`}</Title>\n        <p>\n          {`A tool to help you choose the best theoretical best possible investments for (the early steps of chapter 4 of) `}\n          <a href=\"https://the-last-sovereign.blogspot.com/\">{`The Last Sovereign`}</a>\n          {`.`}\n        </p>\n        <p>{`Just fill in the requested information, choose your strategy and let a quasi-brute force algorithm determine what's best for you (assuming a definition of best here as highest short term returns, then lowest price, while still fulfilling the requirements of your strategy).`}</p>\n        <p>\n          {`This is definetely an advanced tool, intended for people who are already familiar with the game's `}\n          <a href=\"https://thelastsovereign.miraheze.org/wiki/Secret_stats\">\n            {`inner workings`}\n          </a>\n          {`, with the awesome `}\n\n          <a href=\"https://thelastsovereign.flarum.cloud/d/15-calculator\">{`Calculator`}</a>\n          {`, and are now looking for the last lousy optimizations they might have missed.`}\n        </p>\n      </div>\n      <Alert\n        message={`Assumptions`}\n        description={\n          <>\n            <span>{`This tool takes for granted that:`}</span>\n            <ol>\n              <li>{`The Succubus Tower was visited during chapter 1.`}</li>\n              <li>{`AriGarda was bribed during chapter 2.`}</li>\n              <li>{`Tradesmasher and the Succubus Armorer were met during chapter 3.`}</li>\n              <li>{`The three unique Trades (New Givini, Tak'Kan and Chalice States) were bought at the end of chapter 3.`}</li>\n              <li>{`Chapter 3 in general was good enough for Yhilin to reach its final state during the first investment phase of Chapter 4.`}</li>\n              <li>{`Chapter 3 in general and the war in particular were good enough for all petitions favorable to Givini to appear.`}</li>\n              <li>{`All such petitions were approved.`}</li>\n              <li>{`If purchased, the Givini Orc Merchant is bought before any other investment of the round.`}</li>\n            </ol>\n          </>\n        }\n        type=\"info\"\n        showIcon\n      />\n    </div>\n  );\n};\n\nexport default Disclaimer;\n","import { Progress, Divider, Modal } from 'antd';\n\nconst Loading = ({\n  combinationsCount,\n  progress,\n  investmentsCount,\n  preprogress,\n}) => {\n  if (!investmentsCount) {\n    return null;\n  }\n\n  return (\n    <Modal visible={true} centered={true} closable={false} footer={null}>\n      <div>\n        <p>\n          {`Prefiltering ${(2 ** investmentsCount).toLocaleString('en-US')} (2`}\n          <sup>{investmentsCount}</sup>\n          {`) possibilities…`}\n        </p>\n        <Progress percent={Math.round(preprogress * 100)} />\n      </div>\n      {!!combinationsCount && (\n        <>\n          <Divider />\n          <div>\n            <p>{`Processing ${combinationsCount.toLocaleString(\n              'en-US'\n            )} remaining possibilities…`}</p>\n            <Progress percent={Math.round(progress * 10000) / 100} />\n          </div>\n        </>\n      )}\n    </Modal>\n  );\n};\n\nexport default Loading;\n","import './App.css';\nimport FirstRound from './first-round';\nimport { useEffect, useState } from 'react';\nimport worker from 'workerize-loader!./worker'; // eslint-disable-line import/no-webpack-loader-syntax\nimport Disclaimer from './Disclaimer';\nimport Loading from './Loading';\n\nconst buildRunInWorker =\n  ({\n    workerInstance,\n    setLoading,\n    setCombinationsCount,\n    setProgress,\n    setInvestmentsCount,\n    setPreprogress,\n  }) =>\n  async (params) => {\n    setLoading(true);\n\n    const investmentsCount = await workerInstance.prepare(params);\n    setInvestmentsCount(investmentsCount);\n    setPreprogress(0);\n    let combinationsCount = 0;\n    for (let i = 0; i <= investmentsCount; i++) {\n      combinationsCount += await workerInstance.preprocess();\n      setPreprogress(i / investmentsCount);\n    }\n\n    setCombinationsCount(combinationsCount);\n    setProgress(0);\n    const batchSize = 10000;\n    let result;\n    for (let i = 0; i < Math.ceil(combinationsCount / batchSize); i++) {\n      const end = Math.min((i + 1) * batchSize, combinationsCount);\n      result = await workerInstance.process(i * batchSize, end);\n      setProgress(end / combinationsCount);\n    }\n\n    await workerInstance.clean();\n\n    setLoading(false);\n    setCombinationsCount(undefined);\n    setInvestmentsCount(undefined);\n    setProgress(0);\n    setPreprogress(0);\n\n    return result;\n  };\n\nconst App = () => {\n  const [workerInstance, setWorkerInstance] = useState();\n  const [loading, setLoading] = useState(false);\n  const [combinationsCount, setCombinationsCount] = useState();\n  const [progress, setProgress] = useState(0);\n  const [investmentsCount, setInvestmentsCount] = useState();\n  const [preprogress, setPreprogress] = useState(0);\n\n  useEffect(() => {\n    if (!workerInstance) {\n      setWorkerInstance(worker());\n    }\n\n    return () => {\n      workerInstance?.terminate();\n    };\n  }, [workerInstance]);\n\n  if (!workerInstance) {\n    return null;\n  }\n\n  const runInWoker = buildRunInWorker({\n    workerInstance,\n    setLoading,\n    setCombinationsCount,\n    setProgress,\n    setInvestmentsCount,\n    setPreprogress,\n  });\n\n  return (\n    <div>\n      <Disclaimer />\n      <FirstRound runInWoker={runInWoker} loading={loading} />\n      {loading && (\n        <Loading\n          combinationsCount={combinationsCount}\n          progress={progress}\n          preprogress={preprogress}\n          investmentsCount={investmentsCount}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}